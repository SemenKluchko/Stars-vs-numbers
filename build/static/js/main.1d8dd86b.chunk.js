(this["webpackJsonpstar-game"]=this["webpackJsonpstar-game"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(9),r=n.n(s),i=(n(15),n(16),n(2)),o=n(10),u=n(5),l=(n(17),n(0));function j(e){return Object(l.jsxs)("div",{className:"help centered",children:[Object(l.jsx)("h1",{className:"greeting",children:"Stars vs Numbers"}),Object(l.jsx)("p",{className:"rules",children:"You'll need to pick 1 or more numbers that sum to the number of stars"}),Object(l.jsx)(u.a,{variant:"success",size:"lg",className:"create-button",onClick:e.onClickStartGame,children:"New Game"})]})}n(19);function d(e){var t=Object(c.useState)(e.name||""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(e.position||"visitor"),o=Object(i.a)(r,2),j=o[0],d=o[1],b=Object(c.useCallback)((function(t){t.preventDefault(),e.id?e.onUpdate(e.id,a,j):e.onSave(a,j)}),[e,a,j]);return Object(l.jsxs)("form",{className:"user-item-form centered",children:[Object(l.jsxs)("div",{className:"form-item",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"position",children:"Your are:"}),Object(l.jsxs)("select",{className:"form-control",name:"position",id:"position",value:j,onChange:function(e){return d(e.target.value)},children:[Object(l.jsx)("option",{value:"student",children:"student"}),Object(l.jsx)("option",{value:"mentor",children:"mentor"}),Object(l.jsx)("option",{value:"visitor",children:"visitor"})]})]}),Object(l.jsxs)("div",{className:"form-item",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name:"}),Object(l.jsx)("input",{className:"form-control",type:"text",name:"name",placeholder:"Type your name or nickname",id:"name",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(l.jsx)(u.a,{variant:"success",onClick:b,children:"Lets go!"})]})}n(20);function b(e){return Object(l.jsxs)("tr",{class:"table-row",children:[Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.position}),Object(l.jsxs)("td",{children:[e.secondsLeft,"sec"]})]})}n(21);var m=function(e){return Object(l.jsx)("button",{className:"number",style:{backgroundColor:e.colors[e.status]},onClick:function(){return e.onClick(e.number,e.status)},children:e.number})};n(22);var f=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"star"})})};n(23);var O=function(e){var t={available:"lightgray",used:"lightgreen",wrong:"lightcoral",candidate:"deepskyblue"},n={sum:function(e){return e.reduce((function(e,t){return e+t}),0)},range:function(e,t){return Array.from({length:t-e+1},(function(t,n){return e+n}))},random:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randomSumIn:function(e,t){for(var c=[[]],a=[],s=0;s<e.length;s++)for(var r=0,i=c.length;r<i;r++){var o=c[r].concat(e[s]),u=n.sum(o);u<=t&&(c.push(o),a.push(u))}return a[n.random(0,a.length-1)]}},a=Object(c.useState)(n.random(1,9)),s=Object(i.a)(a,2),r=s[0],o=s[1],j=Object(c.useState)(n.range(1,9)),d=Object(i.a)(j,2),b=d[0],O=d[1],h=Object(c.useState)([]),v=Object(i.a)(h,2),x=v[0],p=v[1],g=Object(c.useState)(1),N=Object(i.a)(g,2),k=N[0],S=N[1],C=Object(c.useCallback)((function(){e.updatesData(e.id,e.name,e.position,k)}),[e,k]);Object(c.useEffect)((function(){if(k>0&&b.length>0){var e=setTimeout((function(){S(k+1)}),1e3);return function(){return clearTimeout(e)}}}));var y=n.sum(x)>r,L=0===b.length?"won":20===k?"lost":"active",w=Object(c.useCallback)((function(){e.updatesGameVisibility(L)}),[e,L]),F=function(e){return b.includes(e)?x.includes(e)?y?"wrong":"candidate":"available":"used"},T=function(e,t){if("active"===L&&"used"!==t){var c="available"===t?x.concat(e):x.filter((function(t){return t!==e}));if(n.sum(c)!==r)p(c);else{var a=b.filter((function(e){return!c.includes(e)}));o(n.randomSumIn(a,9)),O(a),p([])}}};return Object(l.jsxs)("div",{className:"game centered",children:[Object(l.jsxs)("div",{className:"body",children:[Object(l.jsx)("div",{className:"left",children:"active"!==L?Object(l.jsx)(u.a,{variant:"primary",className:"game-done ",onClick:function(){C(),w()},children:"Finish"}):n.range(1,r).map((function(e){return Object(l.jsx)(f,{},e)}))}),Object(l.jsx)("div",{className:"right",children:n.range(1,9).map((function(e){return Object(l.jsx)(m,{status:F(e),colors:t,number:e,onClick:T},e)}))})]}),Object(l.jsxs)("div",{className:"timer",children:["Time Remaining: ",k]})]})};n(24);var h=function(){var e=Object(c.useState)(1),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(i.a)(s,2),u=r[0],m=r[1],f=Object(c.useState)(!1),h=Object(i.a)(f,2),v=h[0],x=h[1],p=Object(c.useState)(!0),g=Object(i.a)(p,2),N=g[0],k=g[1],S=Object(c.useState)(!1),C=Object(i.a)(S,2),y=C[0],L=C[1],w=Object(c.useState)([]),F=Object(i.a)(w,2),T=F[0],G=F[1],D=Object(c.useCallback)((function(){x(!0),k(!1),L(!1)}),[]),I=Object(c.useCallback)((function(e,t){G((function(n){return n.concat([{id:"user=".concat(Math.random().toString(36).substr(2,9)),name:e,position:t,secondsLeft:0}])})),x(!1),m(!0)}),[]),M=Object(c.useCallback)((function(e,t,n,c){console.log(t,n,c),G((function(e){return e.map((function(e){return e.name===t?{id:e.id,key:e.id,name:t,position:n,secondsLeft:c}:{id:e.id,key:e.id,name:e.name,position:e.position,secondsLeft:c}}))}))}),[]),P=Object(c.useCallback)((function(){m(!1),k(!0),L(!0)}));return Object(l.jsxs)("div",{children:[N?Object(l.jsx)(j,{onClickStartGame:D}):null,v?Object(l.jsx)(d,{onSave:I}):null,u?Object(l.jsx)(O,{updatesData:M,updatesGameVisibility:P,startNewGame:function(){return a(n+1)}},n):null,y?Object(l.jsx)("section",{className:"user-form",children:Object(l.jsxs)(o.a,{striped:!0,bordered:!0,hover:!0,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Position"}),Object(l.jsx)("th",{children:"Time"})]})}),Object(l.jsx)("tbody",{children:T.map((function(e){return Object(l.jsx)(b,{id:e.id,name:e.name,position:e.position,secondsLeft:e.secondsLeft},e.id)}))})]})}):null]})};n(25);function v(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(h,{})})}var x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),x()}],[[26,1,2]]]);
//# sourceMappingURL=main.1d8dd86b.chunk.js.map